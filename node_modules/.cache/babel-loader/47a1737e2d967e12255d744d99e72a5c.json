{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.determineSkin = determineSkin;\nexports.determineVariants = determineVariants;\nexports.getClassName = getClassName;\nexports.preferDefined = exports.objectify = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar objectify = function objectify(arg) {\n  // undefined, null, empty string case\n  // bail early\n  if (!arg) return {};\n\n  if (typeof arg === 'string') {\n    // String case, convert to array for processing\n    arg = arg.split(' ');\n  }\n\n  if (arg instanceof Array) {\n    // Convert array values into object properties\n    return arg.reduce(function (obj, a) {\n      obj[a] = true;\n      return obj;\n    }, {});\n  } else if (typeof arg === 'object') {\n    // Can just return objects as-is\n    return arg;\n  } else {\n    // Invalid, return an empty object\n    return {};\n  }\n};\n\nexports.objectify = objectify;\n\nvar preferDefined = function preferDefined(a, b) {\n  return a != null ? a : b;\n};\n/**\n * Determines the effective skin\n *\n * @param {String} defaultSkin The local default for this instance of useSkins\n * @param {String} authorSkin  The author-provided skin value\n * @param {String} parentSkin  The inherited skin value from an upstream useSkins\n * @private\n */\n\n\nexports.preferDefined = preferDefined;\n\nfunction determineSkin(defaultSkin, authorSkin, parentSkin) {\n  return authorSkin || defaultSkin || parentSkin;\n}\n/**\n * Determines the effective skin variant\n *\n * @param {String|String[]} defaultVariants The local default variants for this instance\n * @param {String|String[]} allowedVariants The allowed variants for this instance\n * @param {String|String[]} authorVariants  The author-provided variants\n * @param {String|String[]} parentVariants  The inherited variants from an upstream useSkins\n * @private\n */\n\n\nfunction determineVariants(defaultVariants, allowedVariants, authorVariants, parentVariants) {\n  if (!allowedVariants || !(allowedVariants instanceof Array)) {\n    // There are no allowed variants, so just return an empty object, indicating that there are no viable determined variants.\n    return {};\n  }\n\n  defaultVariants = objectify(defaultVariants);\n  authorVariants = objectify(authorVariants);\n  parentVariants = objectify(parentVariants); // Merge all of the variants objects, preferring values in objects from left to right.\n\n  var mergedObj = [defaultVariants, parentVariants, authorVariants].reduce(function (obj, a) {\n    if (a) {\n      Object.keys(a).forEach(function (key) {\n        obj[key] = preferDefined(a[key], obj[key]);\n      });\n    }\n\n    return obj;\n  }, {}); // Clean up the merged object\n\n  for (var key in mergedObj) {\n    // Delete keys that are null or undefined and delete keys that aren't allowed\n    if (mergedObj[key] == null || !allowedVariants.includes(key)) {\n      delete mergedObj[key];\n    }\n  }\n\n  return mergedObj;\n}\n\nfunction getClassName(skins, effectiveSkin, variants) {\n  var skin = skins && skins[effectiveSkin]; // only apply the skin class if it's set and different from the \"current\" skin as\n  // defined by the value in context\n\n  return (0, _classnames[\"default\"])(skin, variants);\n}","map":{"version":3,"sources":["/Users/sonjaeseong/workspace/webOS/CARROT/webOS_GUI/node_modules/@enact/ui/Skinnable/util.js"],"names":["Object","defineProperty","exports","value","determineSkin","determineVariants","getClassName","preferDefined","objectify","_classnames","_interopRequireDefault","require","obj","__esModule","arg","split","Array","reduce","a","b","defaultSkin","authorSkin","parentSkin","defaultVariants","allowedVariants","authorVariants","parentVariants","mergedObj","keys","forEach","key","includes","skins","effectiveSkin","variants","skin"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.determineSkin = determineSkin;\nexports.determineVariants = determineVariants;\nexports.getClassName = getClassName;\nexports.preferDefined = exports.objectify = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar objectify = function objectify(arg) {\n  // undefined, null, empty string case\n  // bail early\n  if (!arg) return {};\n\n  if (typeof arg === 'string') {\n    // String case, convert to array for processing\n    arg = arg.split(' ');\n  }\n\n  if (arg instanceof Array) {\n    // Convert array values into object properties\n    return arg.reduce(function (obj, a) {\n      obj[a] = true;\n      return obj;\n    }, {});\n  } else if (typeof arg === 'object') {\n    // Can just return objects as-is\n    return arg;\n  } else {\n    // Invalid, return an empty object\n    return {};\n  }\n};\n\nexports.objectify = objectify;\n\nvar preferDefined = function preferDefined(a, b) {\n  return a != null ? a : b;\n};\n/**\n * Determines the effective skin\n *\n * @param {String} defaultSkin The local default for this instance of useSkins\n * @param {String} authorSkin  The author-provided skin value\n * @param {String} parentSkin  The inherited skin value from an upstream useSkins\n * @private\n */\n\n\nexports.preferDefined = preferDefined;\n\nfunction determineSkin(defaultSkin, authorSkin, parentSkin) {\n  return authorSkin || defaultSkin || parentSkin;\n}\n/**\n * Determines the effective skin variant\n *\n * @param {String|String[]} defaultVariants The local default variants for this instance\n * @param {String|String[]} allowedVariants The allowed variants for this instance\n * @param {String|String[]} authorVariants  The author-provided variants\n * @param {String|String[]} parentVariants  The inherited variants from an upstream useSkins\n * @private\n */\n\n\nfunction determineVariants(defaultVariants, allowedVariants, authorVariants, parentVariants) {\n  if (!allowedVariants || !(allowedVariants instanceof Array)) {\n    // There are no allowed variants, so just return an empty object, indicating that there are no viable determined variants.\n    return {};\n  }\n\n  defaultVariants = objectify(defaultVariants);\n  authorVariants = objectify(authorVariants);\n  parentVariants = objectify(parentVariants); // Merge all of the variants objects, preferring values in objects from left to right.\n\n  var mergedObj = [defaultVariants, parentVariants, authorVariants].reduce(function (obj, a) {\n    if (a) {\n      Object.keys(a).forEach(function (key) {\n        obj[key] = preferDefined(a[key], obj[key]);\n      });\n    }\n\n    return obj;\n  }, {}); // Clean up the merged object\n\n  for (var key in mergedObj) {\n    // Delete keys that are null or undefined and delete keys that aren't allowed\n    if (mergedObj[key] == null || !allowedVariants.includes(key)) {\n      delete mergedObj[key];\n    }\n  }\n\n  return mergedObj;\n}\n\nfunction getClassName(skins, effectiveSkin, variants) {\n  var skin = skins && skins[effectiveSkin]; // only apply the skin class if it's set and different from the \"current\" skin as\n  // defined by the value in context\n\n  return (0, _classnames[\"default\"])(skin, variants);\n}"]},"metadata":{},"sourceType":"module"}