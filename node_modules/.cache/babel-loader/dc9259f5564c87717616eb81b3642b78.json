{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"configure\", {\n  enumerable: true,\n  get: function get() {\n    return _config.configure;\n  }\n});\nexports.Touchable = exports[\"default\"] = void 0;\n\nvar _handle = require(\"@enact/core/handle\");\n\nvar _hoc = _interopRequireDefault(require(\"@enact/core/hoc\"));\n\nvar _dispatcher = require(\"@enact/core/dispatcher\");\n\nvar _complement = _interopRequireDefault(require(\"ramda/src/complement\"));\n\nvar _platform = _interopRequireDefault(require(\"@enact/core/platform\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _config = require(\"./config\");\n\nvar _state = require(\"./state\");\n\nvar _ClickAllow = _interopRequireDefault(require(\"./ClickAllow\"));\n\nvar _Drag = require(\"./Drag\");\n\nvar _Flick = require(\"./Flick\");\n\nvar _Hold = require(\"./Hold\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar getEventCoordinates = function getEventCoordinates(ev) {\n  var x = ev.clientX,\n      y = ev.clientY,\n      type = ev.type;\n\n  if (type.indexOf('touch') === 0) {\n    x = ev.targetTouches[0].clientX;\n    y = ev.targetTouches[0].clientY;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}; // Establish a standard payload for onDown/onUp/onTap events and pass it along to a handler\n\n\nvar makeTouchableEvent = function makeTouchableEvent(type) {\n  return function (ev) {\n    var target = ev.target,\n        currentTarget = ev.currentTarget;\n    var clientX = ev.clientX,\n        clientY = ev.clientY,\n        pageX = ev.pageX,\n        pageY = ev.pageY;\n\n    if (ev.changedTouches) {\n      clientX = ev.changedTouches[0].clientX;\n      clientY = ev.changedTouches[0].clientY;\n      pageX = ev.changedTouches[0].pageX;\n      pageY = ev.changedTouches[0].pageY;\n    }\n\n    return {\n      type: type,\n      target: target,\n      currentTarget: currentTarget,\n      clientX: clientX,\n      clientY: clientY,\n      pageX: pageX,\n      pageY: pageY\n    };\n  };\n};\n\nvar isEnabled = (0, _handle.forProp)('disabled', false);\nvar handleDown = (0, _handle.handle)(isEnabled, (0, _handle.adaptEvent)(makeTouchableEvent('onDown'), (0, _handle.forwardWithPrevent)('onDown')), (0, _handle.call)('activate'), (0, _handle.call)('startGesture')).named('handleDown');\nvar handleUp = (0, _handle.handle)(isEnabled, (0, _handle.call)('endGesture'), (0, _handle.call)('isTracking'), (0, _handle.adaptEvent)(makeTouchableEvent('onUp'), (0, _handle.forwardWithPrevent)('onUp')), (0, _handle.adaptEvent)(makeTouchableEvent('onTap'), (0, _handle.forward)('onTap')))[\"finally\"]((0, _handle.call)('deactivate')).named('handleUp');\nvar handleEnter = (0, _handle.handle)(isEnabled, (0, _handle.forProp)('noResume', false), (0, _handle.call)('enterGesture'), (0, _handle.call)('isPaused'), (0, _handle.call)('activate')).named('handleEnter');\nvar handleLeave = (0, _handle.handle)(isEnabled, (0, _handle.call)('leaveGesture'), (0, _handle.oneOf)([(0, _handle.forProp)('noResume', false), (0, _handle.call)('pause')], [_handle.returnsTrue, (0, _handle.call)('deactivate')])).named('handleLeave'); // Mouse event handlers\n\nvar handleMouseDown = (0, _handle.handle)((0, _handle.forward)('onMouseDown'), (0, _handle.call)('shouldAllowMouseEvent'), handleDown);\nvar handleMouseEnter = (0, _handle.handle)((0, _handle.forward)('onMouseEnter'), handleEnter);\nvar handleMouseMove = (0, _handle.handle)((0, _handle.forward)('onMouseMove'), (0, _handle.call)('moveGesture'));\nvar handleMouseLeave = (0, _handle.handle)((0, _handle.forward)('onMouseLeave'), handleLeave);\nvar handleMouseUp = (0, _handle.handle)((0, _handle.returnsTrue)((0, _handle.call)('setLastMouseUp')), (0, _handle.forward)('onMouseUp'), handleUp);\nvar handleClick = (0, _handle.handle)(isEnabled, // wrapping another handler to always forward onClick but, if onTap should occur, it should\n// occur first to keep in sync with the up handler which emits onTap first\n(0, _handle.handle)((0, _handle.call)('shouldAllowTap'), (0, _handle.call)('activate'), handleUp)[\"finally\"]((0, _handle.forward)('onClick'))); // Touch event handlers\n\nvar handleTouchStart = (0, _handle.handle)((0, _handle.forward)('onTouchStart'), (0, _handle.returnsTrue)((0, _handle.call)('startTouch')), handleDown);\nvar handleTouchMove = (0, _handle.handle)((0, _handle.forward)('onTouchMove'), (0, _handle.call)('isTracking'), // we don't receive enter/leave events during a touch so we have to simulate them by\n// detecting when the touch leaves the boundary. oneOf returns the value of whichever\n// branch it follows so we append moveHold to either to handle moves that aren't\n// entering or leaving\n(0, _handle.adaptEvent)(makeTouchableEvent('onMove'), (0, _handle.forward)('onMove')), (0, _handle.oneOf)([(0, _handle.call)('hasTouchLeftTarget'), handleLeave], [_handle.returnsTrue, handleEnter])[\"finally\"]((0, _handle.call)('moveGesture')));\nvar handleTouchEnd = (0, _handle.handle)((0, _handle.forward)('onTouchEnd'), // block the next mousedown to prevent duplicate touchable events\n(0, _handle.returnsTrue)((0, _handle.call)('setLastTouchEnd')), (0, _handle.call)('isTracking'), (0, _complement[\"default\"])((0, _handle.call)('hasTouchLeftTarget')), (0, _handle.returnsTrue)((0, _handle.call)('endTouch')), handleUp); // Global touchend/mouseup event handler to deactivate the component\n\nvar handleGlobalUp = (0, _handle.handle)((0, _handle.call)('isTracking'), (0, _handle.call)('deactivate'))[\"finally\"]((0, _handle.call)('endGesture'));\nvar handleGlobalMove = (0, _handle.handle)((0, _handle.call)('isTracking'), (0, _handle.call)('containsCurrentTarget'), (0, _handle.call)('moveGesture'));\nvar handleBlur = (0, _handle.handle)((0, _handle.forward)('onBlur'), (0, _handle.call)('hasFocus'), (0, _handle.call)('blurGesture'));\n/**\n * Default config for `Touchable`.\n *\n * @memberof ui/Touchable.Touchable\n * @hocconfig\n */\n\nvar defaultConfig = {\n  /**\n   * Configures the prop name to pass the active state to the wrapped component\n   *\n   * @type {String}\n   * @default null\n   * @memberof ui/Touchable.Touchable.defaultConfig\n   */\n  activeProp: null\n};\n/**\n * A higher-order component that provides a consistent set of pointer events -- `onDown`, `onUp`,\n * and `onTap` -- across mouse and touch interfaces along with support for common gestures including\n * `onFlick`, `onDrag`, `onHold`, and `onHoldPulse`.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node or consumed by the wrapped component.\n *\n * @class Touchable\n * @memberof ui/Touchable\n * @hoc\n * @public\n */\n\nvar Touchable = (0, _hoc[\"default\"])(defaultConfig, function (config, Wrapped) {\n  var _class, _temp;\n\n  var activeProp = config.activeProp;\n  return _temp = _class = /*#__PURE__*/function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    var _super = _createSuper(_class);\n\n    function _class(props) {\n      var _this;\n\n      _classCallCheck(this, _class);\n\n      _this = _super.call(this, props);\n      _this.state = {\n        active: _state.States.Inactive,\n        prevDisabled: props.disabled\n      };\n      _this.config = (0, _config.mergeConfig)({\n        drag: props.dragConfig,\n        flick: props.flickConfig,\n        hold: props.holdConfig\n      });\n      _this.target = null;\n      _this.targetHadFocus = false;\n      _this.handle = _handle.handle.bind(_assertThisInitialized(_this));\n      _this.drag = new _Drag.Drag();\n      _this.flick = new _Flick.Flick();\n      _this.hold = new _Hold.Hold();\n      _this.clickAllow = new _ClickAllow[\"default\"]();\n      handleClick.bindAs(_assertThisInitialized(_this), 'handleClick');\n      handleBlur.bindAs(_assertThisInitialized(_this), 'handleBlur');\n      handleMouseDown.bindAs(_assertThisInitialized(_this), 'handleMouseDown');\n      handleMouseEnter.bindAs(_assertThisInitialized(_this), 'handleMouseEnter');\n      handleMouseMove.bindAs(_assertThisInitialized(_this), 'handleMouseMove');\n      handleMouseLeave.bindAs(_assertThisInitialized(_this), 'handleMouseLeave');\n      handleMouseUp.bindAs(_assertThisInitialized(_this), 'handleMouseUp');\n      handleTouchStart.bindAs(_assertThisInitialized(_this), 'handleTouchStart');\n      handleTouchMove.bindAs(_assertThisInitialized(_this), 'handleTouchMove');\n      handleTouchEnd.bindAs(_assertThisInitialized(_this), 'handleTouchEnd');\n      handleGlobalUp.bindAs(_assertThisInitialized(_this), 'handleGlobalUp');\n      handleGlobalMove.bindAs(_assertThisInitialized(_this), 'handleGlobalMove');\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // ensure we clean up our internal state\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.on)('touchend', this.handleGlobalUp, document);\n        }\n\n        (0, _dispatcher.on)('mouseup', this.handleGlobalUp, document);\n        (0, _dispatcher.on)('mousemove', this.handleGlobalMove, document);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!prevProps.disabled && this.props.disabled) {\n          this.clearTarget();\n          this.hold.end();\n        }\n\n        this.config = (0, _config.mergeConfig)({\n          drag: this.props.dragConfig,\n          flick: this.props.flickConfig,\n          hold: this.props.holdConfig\n        }); // Update the props onHold, onHoldEnd, onHoldPulse on any gesture (hold, flick, drag).\n\n        this.hold.updateProps(this.props);\n        this.flick.updateProps(this.props);\n        this.drag.updateProps(this.props);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearTarget();\n        this.hold.end();\n\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.off)('touchend', this.handleGlobalUp, document);\n        }\n\n        (0, _dispatcher.off)('mouseup', this.handleGlobalUp, document);\n        (0, _dispatcher.off)('mousemove', this.handleGlobalMove, document);\n      } // State Management\n\n    }, {\n      key: \"setTarget\",\n      value: function setTarget(target) {\n        this.target = target;\n      }\n    }, {\n      key: \"clearTarget\",\n      value: function clearTarget() {\n        this.target = null;\n      }\n    }, {\n      key: \"activate\",\n      value: function activate(ev) {\n        this.setTarget(ev.currentTarget);\n\n        if (activeProp) {\n          this.setState(_state.activate);\n        }\n\n        return true;\n      }\n    }, {\n      key: \"deactivate\",\n      value: function deactivate() {\n        this.clearTarget();\n\n        if (activeProp) {\n          this.setState(_state.deactivate);\n        }\n\n        return true;\n      }\n    }, {\n      key: \"pause\",\n      value: function pause() {\n        if (activeProp) {\n          this.setState(_state.pause);\n        }\n\n        return true;\n      } // Gesture Support\n\n    }, {\n      key: \"startTouch\",\n      value: function startTouch(_ref) {\n        var currentTarget = _ref.currentTarget;\n        (0, _dispatcher.on)('contextmenu', _handle.preventDefault);\n        this.targetBounds = currentTarget.getBoundingClientRect();\n      }\n    }, {\n      key: \"endTouch\",\n      value: function endTouch() {\n        (0, _dispatcher.off)('contextmenu', _handle.preventDefault);\n        this.targetBounds = null;\n      }\n    }, {\n      key: \"startGesture\",\n      value: function startGesture(ev, props) {\n        var coords = getEventCoordinates(ev);\n        var _this$config = this.config,\n            hold = _this$config.hold,\n            flick = _this$config.flick,\n            drag = _this$config.drag;\n        this.hold.begin(hold, props, coords);\n        this.flick.begin(flick, props, coords);\n        this.drag.begin(drag, props, coords, this.target);\n        this.targetHadFocus = this.target === document.activeElement;\n        return true;\n      }\n    }, {\n      key: \"moveGesture\",\n      value: function moveGesture(ev) {\n        var coords = getEventCoordinates(ev);\n        this.hold.move(coords);\n        this.flick.move(coords);\n        this.drag.move(coords);\n        return true;\n      }\n    }, {\n      key: \"enterGesture\",\n      value: function enterGesture() {\n        this.drag.enter();\n        this.hold.enter();\n        return true;\n      }\n    }, {\n      key: \"leaveGesture\",\n      value: function leaveGesture() {\n        this.drag.leave();\n        this.hold.leave();\n        return true;\n      }\n    }, {\n      key: \"blurGesture\",\n      value: function blurGesture() {\n        this.targetHadFocus = false;\n        this.hold.blur();\n        this.flick.blur();\n        this.drag.blur();\n        return true;\n      }\n    }, {\n      key: \"endGesture\",\n      value: function endGesture() {\n        this.targetHadFocus = false;\n        this.hold.end();\n        this.flick.end();\n        this.drag.end();\n        return true;\n      } // Event handler utilities\n\n    }, {\n      key: \"isTracking\",\n      value: function isTracking() {\n        // verify we had a target and the up target is still within the current node\n        return this.target;\n      }\n    }, {\n      key: \"isPaused\",\n      value: function isPaused() {\n        return this.state.active === _state.States.Paused;\n      }\n    }, {\n      key: \"hasFocus\",\n      value: function hasFocus() {\n        return this.targetHadFocus;\n      }\n    }, {\n      key: \"hasTouchLeftTarget\",\n      value: function hasTouchLeftTarget(ev) {\n        var _this2 = this;\n\n        return Array.from(ev.changedTouches).reduce(function (hasLeft, _ref2) {\n          var pageX = _ref2.pageX,\n              pageY = _ref2.pageY;\n          var _this2$targetBounds = _this2.targetBounds,\n              left = _this2$targetBounds.left,\n              right = _this2$targetBounds.right,\n              top = _this2$targetBounds.top,\n              bottom = _this2$targetBounds.bottom;\n          return hasLeft && left > pageX || right < pageX || top > pageY || bottom < pageY;\n        }, true);\n      }\n    }, {\n      key: \"containsCurrentTarget\",\n      value: function containsCurrentTarget(_ref3) {\n        var target = _ref3.target;\n        return !this.target.contains(target);\n      }\n    }, {\n      key: \"shouldAllowMouseEvent\",\n      value: function shouldAllowMouseEvent(ev) {\n        return this.clickAllow.shouldAllowMouseEvent(ev);\n      }\n    }, {\n      key: \"shouldAllowTap\",\n      value: function shouldAllowTap(ev) {\n        return this.clickAllow.shouldAllowTap(ev);\n      }\n    }, {\n      key: \"setLastMouseUp\",\n      value: function setLastMouseUp(ev) {\n        this.clickAllow.setLastMouseUp(ev);\n      }\n    }, {\n      key: \"setLastTouchEnd\",\n      value: function setLastTouchEnd(ev) {\n        this.clickAllow.setLastTouchEnd(ev);\n      }\n    }, {\n      key: \"addHandlers\",\n      value: function addHandlers(props) {\n        props.onClick = this.handleClick;\n        props.onMouseDown = this.handleMouseDown;\n        props.onMouseLeave = this.handleMouseLeave;\n        props.onMouseMove = this.handleMouseMove;\n        props.onMouseEnter = this.handleMouseEnter;\n        props.onMouseUp = this.handleMouseUp;\n        props.onBlur = this.handleBlur;\n\n        if (_platform[\"default\"].touch) {\n          props.onTouchStart = this.handleTouchStart;\n          props.onTouchMove = this.handleTouchMove;\n          props.onTouchEnd = this.handleTouchEnd;\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var props = Object.assign({}, this.props);\n        this.addHandlers(props);\n        delete props.dragConfig;\n        delete props.flickConfig;\n        delete props.holdConfig;\n        delete props.noResume;\n        delete props.onDown;\n        delete props.onFlick;\n        delete props.onHold;\n        delete props.onHoldEnd;\n        delete props.onHoldPulse;\n        delete props.onTap;\n        delete props.onUp;\n\n        if (activeProp) {\n          props[activeProp] = this.state.active !== _state.States.Inactive;\n        }\n\n        return /*#__PURE__*/_react[\"default\"].createElement(Wrapped, props);\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var disabled = props.disabled;\n        var prevDisabled = state.prevDisabled;\n\n        if (prevDisabled !== disabled) {\n          return _objectSpread(_objectSpread({}, activeProp && !prevDisabled && disabled && (0, _state.deactivate)(state)), {}, {\n            prevDisabled: disabled\n          });\n        }\n\n        return null;\n      }\n    }]);\n\n    return _class;\n  }(_react[\"default\"].Component), _class.displayName = 'Touchable', _class.propTypes =\n  /** @lends ui/Touchable.Touchable.prototype */\n  {\n    /**\n     * Disables the component.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    disabled: _propTypes[\"default\"].bool,\n\n    /**\n     * Instance-specific overrides of the drag configuration.\n     *\n     * @see {@link ui/Touchable.configure}\n     * @type {Object}\n     * @public\n     */\n    dragConfig: _Drag.dragConfigPropType,\n\n    /**\n     * Instance-specific overrides of the flick configuration.\n     *\n     * @see {@link ui/Touchable.configure}\n     * @type {Object}\n     * @public\n     */\n    flickConfig: _Flick.flickConfigPropType,\n\n    /**\n     * Instance-specific overrides of the hold configuration.\n     *\n     * @see {@link ui/Touchable.configure}\n     * @type {Object}\n     * @public\n     */\n    holdConfig: _Hold.holdConfigPropType,\n\n    /**\n     * Prevents resuming the touch events and gestures when re-entering the component.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    noResume: _propTypes[\"default\"].bool,\n\n    /**\n     * Event handler for 'down' pointer events.\n     *\n     * @type {Function}\n     * @public\n     */\n    onDown: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDrag'`\n     * * `x` - Horizontal position of the drag, relative to the viewport\n     * * `y` - Vertical position of the drag, relative to the viewport\n     *\n     * @type {Function}\n     * @public\n     */\n    onDrag: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the end of a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDragEnd'`\n     *\n     * @type {Function}\n     * @public\n     */\n    onDragEnd: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the start of a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDragStart'`\n     * * `x` - Horizontal position of the drag, relative to the viewport\n     * * `y` - Vertical position of the drag, relative to the viewport\n     *\n     * @type {Function}\n     * @public\n     */\n    onDragStart: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for a flick gesture.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onFlick'`\n     * * `direction` - Primary direction of the flick, either `'horizontal'` or `'vertical'`\n     * * `velocity` - Velocity of flick\n     * * `velocityX` - Velocity of flick along te horizontal axis\n     * * `velocityY` - Velocity of flick along te vertical axis\n     *\n     * @type {Function}\n     * @public\n     */\n    onFlick: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for hold events.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHold'`\n     * * `name` - The name of the hold as configured in the events list\n     * * `time` - Time, in milliseconds, configured for this hold which may vary slightly\n     *            from time since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHold: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the end of hold events.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHoldEnd'`\n     * * `time` - Time, in milliseconds, since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHoldEnd: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for hold pulse events\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHoldPulse'`\n     * * `time` - Time, in milliseconds, since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHoldPulse: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for 'tap' pointer events\n     *\n     * @type {Function}\n     * @public\n     */\n    onTap: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for 'up' pointer events\n     *\n     * @type {Function}\n     * @public\n     */\n    onUp: _propTypes[\"default\"].func\n  }, _class.defaultProps = {\n    disabled: false,\n    noResume: false\n  }, _temp;\n});\nexports.Touchable = Touchable;\nvar _default = Touchable;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/sonjaeseong/workspace/webOS/CARROT/webOS_GUI/node_modules/@enact/ui/Touchable/Touchable.js"],"names":["Object","defineProperty","exports","value","enumerable","get","_config","configure","Touchable","_handle","require","_hoc","_interopRequireDefault","_dispatcher","_complement","_platform","_propTypes","_react","_state","_ClickAllow","_Drag","_Flick","_Hold","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","getEventCoordinates","ev","x","clientX","y","clientY","type","indexOf","targetTouches","makeTouchableEvent","currentTarget","pageX","pageY","changedTouches","isEnabled","forProp","handleDown","handle","adaptEvent","forwardWithPrevent","named","handleUp","forward","handleEnter","handleLeave","oneOf","returnsTrue","handleMouseDown","handleMouseEnter","handleMouseMove","handleMouseLeave","handleMouseUp","handleClick","handleTouchStart","handleTouchMove","handleTouchEnd","handleGlobalUp","handleGlobalMove","handleBlur","defaultConfig","activeProp","config","Wrapped","_class","_temp","_React$Component","_super","_this","state","active","States","Inactive","prevDisabled","disabled","mergeConfig","drag","dragConfig","flick","flickConfig","hold","holdConfig","targetHadFocus","bind","Drag","Flick","Hold","clickAllow","bindAs","componentDidMount","touch","on","document","componentDidUpdate","prevProps","clearTarget","end","updateProps","componentWillUnmount","off","setTarget","activate","setState","deactivate","pause","startTouch","_ref","preventDefault","targetBounds","getBoundingClientRect","endTouch","startGesture","coords","_this$config","begin","activeElement","moveGesture","move","enterGesture","enter","leaveGesture","leave","blurGesture","blur","endGesture","isTracking","isPaused","Paused","hasFocus","hasTouchLeftTarget","_this2","Array","from","reduce","hasLeft","_ref2","_this2$targetBounds","left","right","top","bottom","containsCurrentTarget","_ref3","contains","shouldAllowMouseEvent","shouldAllowTap","setLastMouseUp","setLastTouchEnd","addHandlers","onClick","onMouseDown","onMouseLeave","onMouseMove","onMouseEnter","onMouseUp","onBlur","onTouchStart","onTouchMove","onTouchEnd","render","assign","noResume","onDown","onFlick","onHold","onHoldEnd","onHoldPulse","onTap","onUp","createElement","getDerivedStateFromProps","Component","displayName","propTypes","bool","dragConfigPropType","flickConfigPropType","holdConfigPropType","func","onDrag","onDragEnd","onDragStart","defaultProps","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"configure\", {\n  enumerable: true,\n  get: function get() {\n    return _config.configure;\n  }\n});\nexports.Touchable = exports[\"default\"] = void 0;\n\nvar _handle = require(\"@enact/core/handle\");\n\nvar _hoc = _interopRequireDefault(require(\"@enact/core/hoc\"));\n\nvar _dispatcher = require(\"@enact/core/dispatcher\");\n\nvar _complement = _interopRequireDefault(require(\"ramda/src/complement\"));\n\nvar _platform = _interopRequireDefault(require(\"@enact/core/platform\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _config = require(\"./config\");\n\nvar _state = require(\"./state\");\n\nvar _ClickAllow = _interopRequireDefault(require(\"./ClickAllow\"));\n\nvar _Drag = require(\"./Drag\");\n\nvar _Flick = require(\"./Flick\");\n\nvar _Hold = require(\"./Hold\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar getEventCoordinates = function getEventCoordinates(ev) {\n  var x = ev.clientX,\n      y = ev.clientY,\n      type = ev.type;\n\n  if (type.indexOf('touch') === 0) {\n    x = ev.targetTouches[0].clientX;\n    y = ev.targetTouches[0].clientY;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}; // Establish a standard payload for onDown/onUp/onTap events and pass it along to a handler\n\n\nvar makeTouchableEvent = function makeTouchableEvent(type) {\n  return function (ev) {\n    var target = ev.target,\n        currentTarget = ev.currentTarget;\n    var clientX = ev.clientX,\n        clientY = ev.clientY,\n        pageX = ev.pageX,\n        pageY = ev.pageY;\n\n    if (ev.changedTouches) {\n      clientX = ev.changedTouches[0].clientX;\n      clientY = ev.changedTouches[0].clientY;\n      pageX = ev.changedTouches[0].pageX;\n      pageY = ev.changedTouches[0].pageY;\n    }\n\n    return {\n      type: type,\n      target: target,\n      currentTarget: currentTarget,\n      clientX: clientX,\n      clientY: clientY,\n      pageX: pageX,\n      pageY: pageY\n    };\n  };\n};\n\nvar isEnabled = (0, _handle.forProp)('disabled', false);\nvar handleDown = (0, _handle.handle)(isEnabled, (0, _handle.adaptEvent)(makeTouchableEvent('onDown'), (0, _handle.forwardWithPrevent)('onDown')), (0, _handle.call)('activate'), (0, _handle.call)('startGesture')).named('handleDown');\nvar handleUp = (0, _handle.handle)(isEnabled, (0, _handle.call)('endGesture'), (0, _handle.call)('isTracking'), (0, _handle.adaptEvent)(makeTouchableEvent('onUp'), (0, _handle.forwardWithPrevent)('onUp')), (0, _handle.adaptEvent)(makeTouchableEvent('onTap'), (0, _handle.forward)('onTap')))[\"finally\"]((0, _handle.call)('deactivate')).named('handleUp');\nvar handleEnter = (0, _handle.handle)(isEnabled, (0, _handle.forProp)('noResume', false), (0, _handle.call)('enterGesture'), (0, _handle.call)('isPaused'), (0, _handle.call)('activate')).named('handleEnter');\nvar handleLeave = (0, _handle.handle)(isEnabled, (0, _handle.call)('leaveGesture'), (0, _handle.oneOf)([(0, _handle.forProp)('noResume', false), (0, _handle.call)('pause')], [_handle.returnsTrue, (0, _handle.call)('deactivate')])).named('handleLeave'); // Mouse event handlers\n\nvar handleMouseDown = (0, _handle.handle)((0, _handle.forward)('onMouseDown'), (0, _handle.call)('shouldAllowMouseEvent'), handleDown);\nvar handleMouseEnter = (0, _handle.handle)((0, _handle.forward)('onMouseEnter'), handleEnter);\nvar handleMouseMove = (0, _handle.handle)((0, _handle.forward)('onMouseMove'), (0, _handle.call)('moveGesture'));\nvar handleMouseLeave = (0, _handle.handle)((0, _handle.forward)('onMouseLeave'), handleLeave);\nvar handleMouseUp = (0, _handle.handle)((0, _handle.returnsTrue)((0, _handle.call)('setLastMouseUp')), (0, _handle.forward)('onMouseUp'), handleUp);\nvar handleClick = (0, _handle.handle)(isEnabled, // wrapping another handler to always forward onClick but, if onTap should occur, it should\n// occur first to keep in sync with the up handler which emits onTap first\n(0, _handle.handle)((0, _handle.call)('shouldAllowTap'), (0, _handle.call)('activate'), handleUp)[\"finally\"]((0, _handle.forward)('onClick'))); // Touch event handlers\n\nvar handleTouchStart = (0, _handle.handle)((0, _handle.forward)('onTouchStart'), (0, _handle.returnsTrue)((0, _handle.call)('startTouch')), handleDown);\nvar handleTouchMove = (0, _handle.handle)((0, _handle.forward)('onTouchMove'), (0, _handle.call)('isTracking'), // we don't receive enter/leave events during a touch so we have to simulate them by\n// detecting when the touch leaves the boundary. oneOf returns the value of whichever\n// branch it follows so we append moveHold to either to handle moves that aren't\n// entering or leaving\n(0, _handle.adaptEvent)(makeTouchableEvent('onMove'), (0, _handle.forward)('onMove')), (0, _handle.oneOf)([(0, _handle.call)('hasTouchLeftTarget'), handleLeave], [_handle.returnsTrue, handleEnter])[\"finally\"]((0, _handle.call)('moveGesture')));\nvar handleTouchEnd = (0, _handle.handle)((0, _handle.forward)('onTouchEnd'), // block the next mousedown to prevent duplicate touchable events\n(0, _handle.returnsTrue)((0, _handle.call)('setLastTouchEnd')), (0, _handle.call)('isTracking'), (0, _complement[\"default\"])((0, _handle.call)('hasTouchLeftTarget')), (0, _handle.returnsTrue)((0, _handle.call)('endTouch')), handleUp); // Global touchend/mouseup event handler to deactivate the component\n\nvar handleGlobalUp = (0, _handle.handle)((0, _handle.call)('isTracking'), (0, _handle.call)('deactivate'))[\"finally\"]((0, _handle.call)('endGesture'));\nvar handleGlobalMove = (0, _handle.handle)((0, _handle.call)('isTracking'), (0, _handle.call)('containsCurrentTarget'), (0, _handle.call)('moveGesture'));\nvar handleBlur = (0, _handle.handle)((0, _handle.forward)('onBlur'), (0, _handle.call)('hasFocus'), (0, _handle.call)('blurGesture'));\n/**\n * Default config for `Touchable`.\n *\n * @memberof ui/Touchable.Touchable\n * @hocconfig\n */\n\nvar defaultConfig = {\n  /**\n   * Configures the prop name to pass the active state to the wrapped component\n   *\n   * @type {String}\n   * @default null\n   * @memberof ui/Touchable.Touchable.defaultConfig\n   */\n  activeProp: null\n};\n/**\n * A higher-order component that provides a consistent set of pointer events -- `onDown`, `onUp`,\n * and `onTap` -- across mouse and touch interfaces along with support for common gestures including\n * `onFlick`, `onDrag`, `onHold`, and `onHoldPulse`.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node or consumed by the wrapped component.\n *\n * @class Touchable\n * @memberof ui/Touchable\n * @hoc\n * @public\n */\n\nvar Touchable = (0, _hoc[\"default\"])(defaultConfig, function (config, Wrapped) {\n  var _class, _temp;\n\n  var activeProp = config.activeProp;\n  return _temp = _class = /*#__PURE__*/function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    var _super = _createSuper(_class);\n\n    function _class(props) {\n      var _this;\n\n      _classCallCheck(this, _class);\n\n      _this = _super.call(this, props);\n      _this.state = {\n        active: _state.States.Inactive,\n        prevDisabled: props.disabled\n      };\n      _this.config = (0, _config.mergeConfig)({\n        drag: props.dragConfig,\n        flick: props.flickConfig,\n        hold: props.holdConfig\n      });\n      _this.target = null;\n      _this.targetHadFocus = false;\n      _this.handle = _handle.handle.bind(_assertThisInitialized(_this));\n      _this.drag = new _Drag.Drag();\n      _this.flick = new _Flick.Flick();\n      _this.hold = new _Hold.Hold();\n      _this.clickAllow = new _ClickAllow[\"default\"]();\n      handleClick.bindAs(_assertThisInitialized(_this), 'handleClick');\n      handleBlur.bindAs(_assertThisInitialized(_this), 'handleBlur');\n      handleMouseDown.bindAs(_assertThisInitialized(_this), 'handleMouseDown');\n      handleMouseEnter.bindAs(_assertThisInitialized(_this), 'handleMouseEnter');\n      handleMouseMove.bindAs(_assertThisInitialized(_this), 'handleMouseMove');\n      handleMouseLeave.bindAs(_assertThisInitialized(_this), 'handleMouseLeave');\n      handleMouseUp.bindAs(_assertThisInitialized(_this), 'handleMouseUp');\n      handleTouchStart.bindAs(_assertThisInitialized(_this), 'handleTouchStart');\n      handleTouchMove.bindAs(_assertThisInitialized(_this), 'handleTouchMove');\n      handleTouchEnd.bindAs(_assertThisInitialized(_this), 'handleTouchEnd');\n      handleGlobalUp.bindAs(_assertThisInitialized(_this), 'handleGlobalUp');\n      handleGlobalMove.bindAs(_assertThisInitialized(_this), 'handleGlobalMove');\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // ensure we clean up our internal state\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.on)('touchend', this.handleGlobalUp, document);\n        }\n\n        (0, _dispatcher.on)('mouseup', this.handleGlobalUp, document);\n        (0, _dispatcher.on)('mousemove', this.handleGlobalMove, document);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!prevProps.disabled && this.props.disabled) {\n          this.clearTarget();\n          this.hold.end();\n        }\n\n        this.config = (0, _config.mergeConfig)({\n          drag: this.props.dragConfig,\n          flick: this.props.flickConfig,\n          hold: this.props.holdConfig\n        }); // Update the props onHold, onHoldEnd, onHoldPulse on any gesture (hold, flick, drag).\n\n        this.hold.updateProps(this.props);\n        this.flick.updateProps(this.props);\n        this.drag.updateProps(this.props);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearTarget();\n        this.hold.end();\n\n        if (_platform[\"default\"].touch) {\n          (0, _dispatcher.off)('touchend', this.handleGlobalUp, document);\n        }\n\n        (0, _dispatcher.off)('mouseup', this.handleGlobalUp, document);\n        (0, _dispatcher.off)('mousemove', this.handleGlobalMove, document);\n      } // State Management\n\n    }, {\n      key: \"setTarget\",\n      value: function setTarget(target) {\n        this.target = target;\n      }\n    }, {\n      key: \"clearTarget\",\n      value: function clearTarget() {\n        this.target = null;\n      }\n    }, {\n      key: \"activate\",\n      value: function activate(ev) {\n        this.setTarget(ev.currentTarget);\n\n        if (activeProp) {\n          this.setState(_state.activate);\n        }\n\n        return true;\n      }\n    }, {\n      key: \"deactivate\",\n      value: function deactivate() {\n        this.clearTarget();\n\n        if (activeProp) {\n          this.setState(_state.deactivate);\n        }\n\n        return true;\n      }\n    }, {\n      key: \"pause\",\n      value: function pause() {\n        if (activeProp) {\n          this.setState(_state.pause);\n        }\n\n        return true;\n      } // Gesture Support\n\n    }, {\n      key: \"startTouch\",\n      value: function startTouch(_ref) {\n        var currentTarget = _ref.currentTarget;\n        (0, _dispatcher.on)('contextmenu', _handle.preventDefault);\n        this.targetBounds = currentTarget.getBoundingClientRect();\n      }\n    }, {\n      key: \"endTouch\",\n      value: function endTouch() {\n        (0, _dispatcher.off)('contextmenu', _handle.preventDefault);\n        this.targetBounds = null;\n      }\n    }, {\n      key: \"startGesture\",\n      value: function startGesture(ev, props) {\n        var coords = getEventCoordinates(ev);\n        var _this$config = this.config,\n            hold = _this$config.hold,\n            flick = _this$config.flick,\n            drag = _this$config.drag;\n        this.hold.begin(hold, props, coords);\n        this.flick.begin(flick, props, coords);\n        this.drag.begin(drag, props, coords, this.target);\n        this.targetHadFocus = this.target === document.activeElement;\n        return true;\n      }\n    }, {\n      key: \"moveGesture\",\n      value: function moveGesture(ev) {\n        var coords = getEventCoordinates(ev);\n        this.hold.move(coords);\n        this.flick.move(coords);\n        this.drag.move(coords);\n        return true;\n      }\n    }, {\n      key: \"enterGesture\",\n      value: function enterGesture() {\n        this.drag.enter();\n        this.hold.enter();\n        return true;\n      }\n    }, {\n      key: \"leaveGesture\",\n      value: function leaveGesture() {\n        this.drag.leave();\n        this.hold.leave();\n        return true;\n      }\n    }, {\n      key: \"blurGesture\",\n      value: function blurGesture() {\n        this.targetHadFocus = false;\n        this.hold.blur();\n        this.flick.blur();\n        this.drag.blur();\n        return true;\n      }\n    }, {\n      key: \"endGesture\",\n      value: function endGesture() {\n        this.targetHadFocus = false;\n        this.hold.end();\n        this.flick.end();\n        this.drag.end();\n        return true;\n      } // Event handler utilities\n\n    }, {\n      key: \"isTracking\",\n      value: function isTracking() {\n        // verify we had a target and the up target is still within the current node\n        return this.target;\n      }\n    }, {\n      key: \"isPaused\",\n      value: function isPaused() {\n        return this.state.active === _state.States.Paused;\n      }\n    }, {\n      key: \"hasFocus\",\n      value: function hasFocus() {\n        return this.targetHadFocus;\n      }\n    }, {\n      key: \"hasTouchLeftTarget\",\n      value: function hasTouchLeftTarget(ev) {\n        var _this2 = this;\n\n        return Array.from(ev.changedTouches).reduce(function (hasLeft, _ref2) {\n          var pageX = _ref2.pageX,\n              pageY = _ref2.pageY;\n          var _this2$targetBounds = _this2.targetBounds,\n              left = _this2$targetBounds.left,\n              right = _this2$targetBounds.right,\n              top = _this2$targetBounds.top,\n              bottom = _this2$targetBounds.bottom;\n          return hasLeft && left > pageX || right < pageX || top > pageY || bottom < pageY;\n        }, true);\n      }\n    }, {\n      key: \"containsCurrentTarget\",\n      value: function containsCurrentTarget(_ref3) {\n        var target = _ref3.target;\n        return !this.target.contains(target);\n      }\n    }, {\n      key: \"shouldAllowMouseEvent\",\n      value: function shouldAllowMouseEvent(ev) {\n        return this.clickAllow.shouldAllowMouseEvent(ev);\n      }\n    }, {\n      key: \"shouldAllowTap\",\n      value: function shouldAllowTap(ev) {\n        return this.clickAllow.shouldAllowTap(ev);\n      }\n    }, {\n      key: \"setLastMouseUp\",\n      value: function setLastMouseUp(ev) {\n        this.clickAllow.setLastMouseUp(ev);\n      }\n    }, {\n      key: \"setLastTouchEnd\",\n      value: function setLastTouchEnd(ev) {\n        this.clickAllow.setLastTouchEnd(ev);\n      }\n    }, {\n      key: \"addHandlers\",\n      value: function addHandlers(props) {\n        props.onClick = this.handleClick;\n        props.onMouseDown = this.handleMouseDown;\n        props.onMouseLeave = this.handleMouseLeave;\n        props.onMouseMove = this.handleMouseMove;\n        props.onMouseEnter = this.handleMouseEnter;\n        props.onMouseUp = this.handleMouseUp;\n        props.onBlur = this.handleBlur;\n\n        if (_platform[\"default\"].touch) {\n          props.onTouchStart = this.handleTouchStart;\n          props.onTouchMove = this.handleTouchMove;\n          props.onTouchEnd = this.handleTouchEnd;\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var props = Object.assign({}, this.props);\n        this.addHandlers(props);\n        delete props.dragConfig;\n        delete props.flickConfig;\n        delete props.holdConfig;\n        delete props.noResume;\n        delete props.onDown;\n        delete props.onFlick;\n        delete props.onHold;\n        delete props.onHoldEnd;\n        delete props.onHoldPulse;\n        delete props.onTap;\n        delete props.onUp;\n\n        if (activeProp) {\n          props[activeProp] = this.state.active !== _state.States.Inactive;\n        }\n\n        return /*#__PURE__*/_react[\"default\"].createElement(Wrapped, props);\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var disabled = props.disabled;\n        var prevDisabled = state.prevDisabled;\n\n        if (prevDisabled !== disabled) {\n          return _objectSpread(_objectSpread({}, activeProp && !prevDisabled && disabled && (0, _state.deactivate)(state)), {}, {\n            prevDisabled: disabled\n          });\n        }\n\n        return null;\n      }\n    }]);\n\n    return _class;\n  }(_react[\"default\"].Component), _class.displayName = 'Touchable', _class.propTypes =\n  /** @lends ui/Touchable.Touchable.prototype */\n  {\n    /**\n     * Disables the component.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    disabled: _propTypes[\"default\"].bool,\n\n    /**\n     * Instance-specific overrides of the drag configuration.\n     *\n     * @see {@link ui/Touchable.configure}\n     * @type {Object}\n     * @public\n     */\n    dragConfig: _Drag.dragConfigPropType,\n\n    /**\n     * Instance-specific overrides of the flick configuration.\n     *\n     * @see {@link ui/Touchable.configure}\n     * @type {Object}\n     * @public\n     */\n    flickConfig: _Flick.flickConfigPropType,\n\n    /**\n     * Instance-specific overrides of the hold configuration.\n     *\n     * @see {@link ui/Touchable.configure}\n     * @type {Object}\n     * @public\n     */\n    holdConfig: _Hold.holdConfigPropType,\n\n    /**\n     * Prevents resuming the touch events and gestures when re-entering the component.\n     *\n     * @type {Boolean}\n     * @default false\n     * @public\n     */\n    noResume: _propTypes[\"default\"].bool,\n\n    /**\n     * Event handler for 'down' pointer events.\n     *\n     * @type {Function}\n     * @public\n     */\n    onDown: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDrag'`\n     * * `x` - Horizontal position of the drag, relative to the viewport\n     * * `y` - Vertical position of the drag, relative to the viewport\n     *\n     * @type {Function}\n     * @public\n     */\n    onDrag: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the end of a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDragEnd'`\n     *\n     * @type {Function}\n     * @public\n     */\n    onDragEnd: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the start of a drag gesture.\n     *\n    \t * Event payload includes:\n     *\n     * * `type` - Type of event, `'onDragStart'`\n     * * `x` - Horizontal position of the drag, relative to the viewport\n     * * `y` - Vertical position of the drag, relative to the viewport\n     *\n     * @type {Function}\n     * @public\n     */\n    onDragStart: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for a flick gesture.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onFlick'`\n     * * `direction` - Primary direction of the flick, either `'horizontal'` or `'vertical'`\n     * * `velocity` - Velocity of flick\n     * * `velocityX` - Velocity of flick along te horizontal axis\n     * * `velocityY` - Velocity of flick along te vertical axis\n     *\n     * @type {Function}\n     * @public\n     */\n    onFlick: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for hold events.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHold'`\n     * * `name` - The name of the hold as configured in the events list\n     * * `time` - Time, in milliseconds, configured for this hold which may vary slightly\n     *            from time since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHold: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for the end of hold events.\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHoldEnd'`\n     * * `time` - Time, in milliseconds, since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHoldEnd: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for hold pulse events\n     *\n     * Event payload includes:\n     *\n     * * `type` - Type of event, `'onHoldPulse'`\n     * * `time` - Time, in milliseconds, since the hold began\n     *\n     * @type {Function}\n     * @public\n     */\n    onHoldPulse: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for 'tap' pointer events\n     *\n     * @type {Function}\n     * @public\n     */\n    onTap: _propTypes[\"default\"].func,\n\n    /**\n     * Event handler for 'up' pointer events\n     *\n     * @type {Function}\n     * @public\n     */\n    onUp: _propTypes[\"default\"].func\n  }, _class.defaultProps = {\n    disabled: false,\n    noResume: false\n  }, _temp;\n});\nexports.Touchable = Touchable;\nvar _default = Touchable;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"module"}