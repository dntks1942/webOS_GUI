"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useAnnouce = useAnnouce;
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _Announce = _interopRequireDefault(require("./Announce"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/**
 * Object returned by `useAnnounce`
 *
 * @typedef {Object} useAnnounceInterface
 * @property {Function} announce Called to alert the user of behavior for accessibility
 * @property {Node}     children An additional element which must be added to the component tree to
 *                               support notifying the user
 * @private
 */

/**
 * Provides a method to alert the user of behavior for accessibility.
 *
 * ```
 * 	function Component () {
 *		const {announce, children} = useAnnounce();
 *
 *		return (
 *			<Base onClick={() => announce('Unusually important notification for accessibility')}>
 *				{children}
 *			</Base>
 *		);
 *	}
 * ```
 *
 * @returns {useAnnounceInterface}
 * @private
 */
function useAnnouce() {
  var ref = _react["default"].useRef(null);

  var announce = _react["default"].useCallback(function (message) {
    if (ref.current) {
      ref.current.announce(message);
    }
  }, [ref]);

  return {
    announce: announce,
    children: /*#__PURE__*/_react["default"].createElement(_Announce["default"], {
      ref: ref
    })
  };
}

var _default = useAnnouce;
exports["default"] = _default;